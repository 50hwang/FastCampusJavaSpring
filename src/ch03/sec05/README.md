ch03 객체 지향 핵심

# ch03.sec05 메소드 재정의와 가상 메소드 원리

## 메소드는 호출 및 실행 원리

1. 메소드(함수)는 이름(주소값)과 상수 데이터(static), 명령어set으로 구성되어 있다.

2. 프로그램이 로드되면 명령어set이 메모리의 메소드 영역에 로드된다.
     - 연산을 받을 변수들은 다른 영역에 따로 로드된다.
     - 클래스 변수 : 스택, 인스턴스 변수 : 힙
    
3. 해당 메소드가 호출되면, 명령어set이 있는 메모리 주소를 찾아 실행된다.
    - 이 때, 메소드에서 사용하는 변수들은 스택 메모리에 위치한다.

4. 따라서 다른 인스턴스라도, 같은 클래스의 같은 메소드의 코드는 같으므로, 같은 메소드가 호출된다.
    - 인스턴스가 생성될 때 각 인스턴스 변수들은 힙 메모리에 따로 생성
    - But, 메소드 명령어set은 처음 한 번만 로드된다.
 
## 가상 메소드의 원리

> 자바는 모든 메소드가 가상 메소드다.

- 가상 메소드 테이블(virtual method table)에서 해당 메소드에 대한 메소드 주소를 가지고 있다.
 
- 오버라이딩된 메소드 -> 재정의된 다른 별도의 메소드 주소를 가진다.
    - 결코 완전히 같은 이름(메소드 주소)의 메소드가 2가지 이상 존재할 수 없다.